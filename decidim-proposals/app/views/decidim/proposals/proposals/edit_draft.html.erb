<% add_decidim_page_title(proposal_wizard_step_title(action_name)) %>

<% content_for :css_content do %>
  <%= stylesheet_pack_tag "decidim_proposals", media: "all" %>
<% end %>

<% content_for :js_content do %>
  <%= javascript_pack_tag "decidim_proposals" %>
<% end %>

<%= render layout: "layouts/decidim/shared/layout_center" do %>

  <%= render partial: "wizard_header" %>

  <%= decidim_form_for(@form, url: update_draft_proposal_path(@proposal), method: :patch) do |form| %>

    <%= form_required_explanation %>

    <div class="form__wrapper">
      <%= render partial: "edit_form_fields", locals: { form: form } %>
    </div>

    <div class="form__wrapper-block flex-col-reverse md:flex-row justify-between">
      <%= link_to t("discard", scope: "decidim.proposals.proposals.edit_draft"), destroy_draft_proposal_path(@proposal), method: :delete, class: "button button__sm md:button__lg button__text-secondary", data: { confirm: t("discard_confirmation", scope: "decidim.proposals.proposals.edit_draft") } %>

      <%= form.submit t("send", scope: "decidim.proposals.proposals.edit_draft"), class: "button button__sm md:button__lg button__secondary", data: { disable: true } %>
    </div>

  <% end %>

<% end %>
