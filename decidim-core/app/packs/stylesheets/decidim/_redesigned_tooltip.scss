[role=tooltip]{
  @apply absolute bg-black p-4 z-10 w-max max-w-xs rounded text-left text-white transition-all ease-in delay-300;

  & > *{
    @apply relative z-20;
  }

  &[aria-hidden="false"]{
    @apply visible opacity-100 transition-all ease-in;
  }

  &[aria-hidden="true"]{
    @apply invisible hover:visible hover:opacity-100 opacity-0;
  }

  /*
    NOTE: the calculated value is the sum of the arrow offset position plus the half of the arrow size:
    - offset position: 20%
    - arrow size: 16px
  */
  --arrow-offset: 20%;
  --arrow-size: 16px;
  --arrow-visible-size: var(--arrow-size) * 0.5;
  --arrow-margin: var(--arrow-visible-size) * 1.4142135623730951; // due to the rotation, the margin is SQRT2 times the visible size

  &.top{
    @apply -translate-x-[calc(100%-var(--arrow-offset)-var(--arrow-visible-size))] -translate-y-[calc(100%+var(--arrow-margin))] before:content-[''] before:absolute before:-z-10 before:right-[var(--arrow-offset)] before:-bottom-[var(--arrow-visible-size)] before:w-[var(--arrow-size)] before:h-[var(--arrow-size)] before:rotate-45 before:bg-black before:rounded-br;
  }

  &.right{
    @apply translate-x-[calc(var(--arrow-margin))] -translate-y-[calc(var(--arrow-offset)+var(--arrow-visible-size))] before:content-[''] before:absolute before:-z-10 before:top-[var(--arrow-offset)] before:-left-[var(--arrow-visible-size)] before:w-[var(--arrow-size)] before:h-[var(--arrow-size)] before:rotate-45 before:bg-black before:rounded-bl;
  }

  &.bottom{
    @apply -translate-x-[calc(100%-var(--arrow-offset)-var(--arrow-visible-size))] translate-y-[calc(var(--arrow-margin))] before:content-[''] before:absolute before:-z-10 before:right-[var(--arrow-offset)] before:-top-[var(--arrow-visible-size)] before:w-[var(--arrow-size)] before:h-[var(--arrow-size)] before:rotate-45 before:bg-black before:rounded-tl;
  }

  &.left{
    @apply -translate-x-[calc(100%+var(--arrow-margin))] -translate-y-[calc(var(--arrow-offset)+var(--arrow-visible-size))] before:content-[''] before:absolute before:-z-10 before:top-[var(--arrow-offset)] before:-right-[var(--arrow-visible-size)] before:w-[var(--arrow-size)] before:h-[var(--arrow-size)] before:rotate-45 before:bg-black before:rounded-tr;
  }
}
